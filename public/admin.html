<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Админ панель - Telegram Video Proxy</title>
    <link rel="stylesheet" href="admin.css">
</head>
<body>
    <!-- Форма входа -->
    <div id="loginForm" class="container">
        <h1>Вход в админ панель</h1>
        <form id="loginFormElement">
            <input type="password" id="password" placeholder="Пароль" required>
            <button type="submit">Войти</button>
        </form>
    </div>

    <!-- Админ панель -->
    <div id="adminPanel" class="container" style="display: none;">
        <div class="header">
            <h1>Управление ботами</h1>
            <button id="logoutBtn" class="logout-btn">Выйти</button>
        </div>

        <!-- Табы -->
        <div class="tabs">
            <button class="tab active" data-tab="bots">Боты</button>
            <button class="tab" data-tab="mappings">Привязки каналов</button>
            <button class="tab" data-tab="logs">Логи</button>
        </div>

        <!-- Вкладка Боты -->
        <div id="botsTab" class="tab-content active">
            <div class="toolbar">
                <h2>Боты</h2>
                <button id="addBotBtn" class="btn-primary">Добавить бота</button>
            </div>
            <table id="botsTable">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Название</th>
                        <th>API ID</th>
                        <th>Каналов</th>
                        <th>Загрузок</th>
                        <th>Статус</th>
                        <th>Действия</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <!-- Вкладка Привязки -->
        <div id="mappingsTab" class="tab-content">
            <div class="toolbar">
                <h2>Привязки каналов к ботам</h2>
                <button id="addMappingBtn" class="btn-primary">Добавить привязку</button>
            </div>
            <table id="mappingsTable">
                <thead>
                    <tr>
                        <th>Chat ID</th>
                        <th>Канал</th>
                        <th>Username</th>
                        <th>Бот</th>
                        <th>Дата</th>
                        <th>Действия</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <!-- Вкладка Логи -->
        <div id="logsTab" class="tab-content">
            <h2>Последние загрузки</h2>
            <table id="logsTable">
                <thead>
                    <tr>
                        <th>Дата</th>
                        <th>Chat ID</th>
                        <th>Бот</th>
                        <th>Файл</th>
                        <th>Размер</th>
                        <th>Статус</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>

    <!-- Модальное окно для бота -->
    <div id="botModal" class="modal">
        <div class="modal-content">
            <h2 id="botModalTitle">Добавить бота</h2>
            <form id="botForm">
                <input type="hidden" id="botId">
                <input type="text" id="botName" placeholder="Название бота" required>
                <input type="text" id="botToken" placeholder="Bot Token" required>
                <input type="number" id="botApiId" placeholder="API ID" required>
                <input type="text" id="botApiHash" placeholder="API Hash" required>
                <label class="checkbox">
                    <input type="checkbox" id="botIsActive" checked>
                    Активен
                </label>
                <div class="modal-buttons">
                    <button type="submit" class="btn-primary">Сохранить</button>
                    <button type="button" class="btn-secondary" onclick="closeBotModal()">Отмена</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Модальное окно для привязки -->
    <div id="mappingModal" class="modal">
        <div class="modal-content">
            <h2>Добавить привязку канала</h2>
            <form id="mappingForm">
                <input type="number" id="mappingChatId" placeholder="Chat ID (например: -1002397627160)" required>
                <input type="text" id="mappingChannelName" placeholder="Название канала">
                <input type="text" id="mappingChannelUsername" placeholder="Username канала">
                <select id="mappingBotId" required>
                    <option value="">Выберите бота</option>
                </select>
                <div class="modal-buttons">
                    <button type="submit" class="btn-primary">Сохранить</button>
                    <button type="button" class="btn-secondary" onclick="closeMappingModal()">Отмена</button>
                </div>
            </form>
        </div>
    </div>

    <script src="admin.js"></script>
</body>
</html>